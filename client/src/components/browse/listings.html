<!DOCTYPE html>
<html ng-app="forsale">
    <head>
        
    <!-- Materialize CSS -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/css/materialize.min.css">
    <!-- JavaScript for: jQuery, angular, materialize, and angular-materialize. All of which are needed. -->
        <script type="text/javascript" src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/js/materialize.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular-materialize/0.2.2/angular-materialize.min.js"></script>
    <!-- application -->
        <script type="text/javascript" src="app.js"></script>
        
    </head>
    <body ng-controller = "ListingsController as listingsCtrl">
            <div ng-repeat="listing in listingsCtrl.l">
            <div class = "card" ng-controller = "PanelController as panel">
                <div class ="card-content">
                    <center>
                    <img ng-src="{{listing.images[0].thumb}}"/></center>
                </div>
                <div class = "card-tabs">
                    <ul class="tabs tabs-fixed-width">
                        <li class="tab" ng-class="{ active: panel.isSelected(1) }">
                            <a href ng-click="panel.selectTab(1)"> 
                                Description
                            </a>
                        </li>
                        <li class="tab" ng-class="{ active: panel.isSelected(2) }">
                            <a href ng-click="panel.selectTab(2)"> 
                                Buy
                            </a>
                        </li>
                        <li class="tab" ng-class="{ active: panel.isSelected(3) }">
                            <a href ng-click="panel.selectTab(3)"> 
                                Seller
                            </a>
                        </li>
                    </ul>
                </div>
                <div class="card-content grey lighten-4">
                    <div ng-show="panel.isSelected(1)"> 
                        Name: {{listing.name}}<br>
                        Edition: {{listing.edition}}<br>
                        Author: {{listing.author}}<br>
                        Type: {{listing.type}}<br>
                    </div>
                    <div ng-show="panel.isSelected(2)"> 
                        Exchange Preferences:
                        <p>{{listing.preferences}}</p>
                        Asking Price: {{listing.asking | currency}}<br>
                    </div>
                    <div ng-show="panel.isSelected(3)"> 
                        Seller: {{listing.seller}}
                    </div>
                </div>
            </div>
         </div>

    </body>

</html>